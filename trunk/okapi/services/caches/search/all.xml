<xml>
	<brief>Search for geocaches</brief>
	<issue-id>15</issue-id>
	<desc>
		<p>Search for geocaches using some simple filters.
		All of them are optional, but you surely want to use at least some of them.</p>
	</desc>
	<opt name='type'>
		<p>Pipe-separated list of cache type codes. If given, the results will be limited
		to the given cache types. For a list of cache type codes, see services/caches/geocache
		method.</p>
		<p><b>Notice:</b> If you want to include all cache types <b>except</b>
		given ones, prepend your list with the "-" sign.</p>
	</opt>
	<opt name='status' default='Available'>
		<p>Pipe-separated list of status codes. Only caches matching any of the given
		statuses will included in the response. For a list of cache status codes, see
		services/caches/geocache method.</p>
	</opt>
	<opt name='owner_uuid'>
		<p>Pipe-separated list of user IDs. If given, the list of returned caches
		will be limited to those owned by the given users.</p>
		<p><b>Notice:</b> User ID and Username are two different things!</p>
	</opt>
	<opt name='name'>
		<p>Name (or part of name) of cache. All characters are allowed including space (" "). 
		Asterisk ("*") is used as "anything" pattern. Underscore ("_") is used as any (single) character. 
		This parameter is case-insensitive. Maximum length of pattern is 100 characters.</p>
		<p><b>Examples:</b><ul>
			<li>"Name=the *" returns caches that name starts with "the ".</li> 
			<li>"Name=water tower" returns cache(s) with <b>exactly</b> that name.</li> 
			<li>"Name=*water tower*" can return e.g. "Beautiful Water Tower II".</li>
			<li>"Name=*tower_" can return e.g. "Water Towers", but <b>not</b> "Water Tower" or "Water Tower II".</li>
			<li>"Name=wie%C5%BCa" can return "wieża".</li>
		</ul>
		You can also put asterisk between words, e.g. "name=water*tower".</p>
		
		<p><b>Notice:</b>Additional (national) characters such as "ę,ż,ß,ü,á,č" etc. should be UTF-8 encoded.</p>
		
		<p><b>Notice:</b> Cache code and name are two different things - if you want to 
		determine a specific cache use /services/caches/geocache with <i>cache_code</i> parameter.</p>
	</opt>
	<opt name='terrain' default='1-5'>
		<p>A string "X-Y", where X and Y are integers between 1 and 5, and X &lt;= Y.
		Only caches with terrain rating between these numbers (inclusive) will be returned.</p>
	</opt>
	<opt name='difficulty' default='1-5'>
		<p>A string "X-Y", where X and Y are integers between 1 and 5, and X &lt;= Y.
		Only caches with difficulty rating between these numbers (inclusive) will be returned.</p>
	</opt>
	<opt name='size'>
		<p>A string "X-Y", where X and Y are integers between 1 and 5, and X &lt;= Y.
		Only caches with size attribute between these numbers (inclusive) will be returned
		(1 - micro, 5 - very big).</p>
		<p><b>Notice:</b> If you use this parameter, all caches which do not have a container
		(like Event or Virtual caches) will be excluded from the results.</p>
	</opt>
	<opt name='rating'>
		<p>A string "X-Y", where X and Y are integers between 1 and 5, and X &lt;= Y.
		Only caches with an overall rating between these numbers (inclusive) will be returned
		(1 - poor, 5 - excellent).</p>
		<p><b>Notice:</b> If you use this parameter, all caches with less than 4 votes will be
		excluded from results.</p>
	</opt>
	<opt name='min_rcmds'>
		<p>There are two possible value-types for this argument:</p>
		<ul>
			<li>Integer N. If <i>N</i> given, the result will contain only those caches which have
			at least <i>N</i> recommendations.</li>
			<li>Integer N with a percent sign appended (e.g. "20%"). The result will contain
			only those caches which have at last <i>N%</i> ratio of recommendations/founds.
			Please note, that this is useful only with conjunction with <b>min_founds</b>
			parameter.</li>
		</ul>
	</opt>
	<opt name='min_founds'>
		<p>Integer N. If <i>N</i> given, the result will contain only those caches which have
		been found at least <i>N</i> times. Useful if you want to skip "unverified" caches.</p>
	</opt>
	<opt name='max_founds'>
		<p>Integer N. If <i>N</i> given, the result will contain only those caches which have
		been found at most <i>N</i> times. Useful for FTF hunters.</p>
	</opt>
	<opt name='modified_since'>
		<p>A date and time string, in any reasonable format (any acceptable by
		PHP's <a href='http://pl2.php.net/strtotime'>strtotime</a> function,
		ISO 8601 preffered).</p>
		<p>If given, the list of returned geocaches will be limited to those which were
		created or modified since that date. (Note: currently caches do not get
		"modified" when user makes a log entry.)</p>
	</opt>
	<opt name='found_status' default='either'>
		<p><b>Notice:</b> This parameter may be used only for requests signed with an Access Token
		(you will need to use <b>Level 3</b> Authentication).</p>
		<p>Should be one of the following:</p>
		<ul>
			<li><b>found_only</b> - only caches found by the user will be returned,</li>
			<li><b>notfound_only</b> - only caches <b>not</b> found by the user will be returned,</li>
			<li><b>either</b> - all caches will be returned.</li>
		</ul>
	</opt>
	<opt name='found_by'>
		<p>User UUID. If given, the response will only include geocaches found by
		the given user.</p>
	</opt>
	<opt name='not_found_by'>
		<p>User UUID. If given, the response will only include geocaches not found by
		the given user.</p>
	</opt>
	<opt name='exclude_my_own' default='false'>
		<p><b>Notice:</b> This parameter may be used only for requests signed
		with an Access Token (you will need to use <b>Level 3</b> Authentication).</p>
		<p>Boolean. If set to <b>true</b>, caches which the user is an owner of will
		not be included in the result.</p>
	</opt>
	<opt name='limit' default='100'>
		<p>Integer in range 1..500. Maximum number of caches codes returned.</p>
	</opt>
	<common-format-params/>
	<returns>
		<p>A dictionary of the following structure:</p>
		<ul>
			<li><b>results</b> - a list of cache codes (unordered),</li>
			<li><b>more</b> - boolean, <b>true</b> means that there were more
			results for your query, but they were not returned because of the
			<b>limit</b> parameter.</li>
		</ul>
	</returns>
</xml>